{"ast":null,"code":"import { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils';\nimport ShopActionTypes from './shop.types';\nexport const fetchCollectionsStart = () => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_START\n});\nexport const fetchCollectionsSuccess = collectionsMap => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n  payload: collectionsMap\n});\nexport const fetchCollectionsFailure = errorMessage => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\n  payload: errorMessage\n});\nexport const fetchCollectionsStartAsync = () => {\n  return dispatch => {\n    const collectionRef = firestore.collection('collection');\n    dispatch(fetchCollectionsStart());\n    collectionRef.get().then(async shot => {\n      const collectionsMap = convertCollectionsSnapshotToMap(shot);\n      dispatch(fetchCollectionsSuccess(collectionsMap));\n    }).then(error => {\n      fetchCollectionsFailure(error.errorMessage);\n    });\n  };\n};","map":{"version":3,"sources":["/home/anaruz/www/react/crwn-cloth-learning/src/redux/shop/shop.actions.js"],"names":["firestore","convertCollectionsSnapshotToMap","ShopActionTypes","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","collectionsMap","FETCH_COLLECTIONS_SUCCESS","payload","fetchCollectionsFailure","errorMessage","FETCH_COLLECTIONS_FAILURE","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","shot","error"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,+BAApB,QAA0D,+BAA1D;AAGA,OAAOC,eAAP,MAA4B,cAA5B;AAGA,OAAO,MAAMC,qBAAqB,GAAG,OAAO;AAExCC,EAAAA,IAAI,EAAEF,eAAe,CAACG;AAFkB,CAAP,CAA9B;AAKP,OAAO,MAAMC,uBAAuB,GAAGC,cAAc,KAAK;AAEtDH,EAAAA,IAAI,EAAEF,eAAe,CAACM,yBAFgC;AAGtDC,EAAAA,OAAO,EAAEF;AAH6C,CAAL,CAA9C;AAOP,OAAO,MAAMG,uBAAuB,GAAGC,YAAY,KAAK;AAEpDP,EAAAA,IAAI,EAAEF,eAAe,CAACU,yBAF8B;AAGpDH,EAAAA,OAAO,EAAEE;AAH2C,CAAL,CAA5C;AAOP,OAAO,MAAME,0BAA0B,GAAG,MAAM;AAE9C,SAAOC,QAAQ,IAAI;AAGf,UAAMC,aAAa,GAAGf,SAAS,CAACgB,UAAV,CAAqB,YAArB,CAAtB;AAEAF,IAAAA,QAAQ,CAACX,qBAAqB,EAAtB,CAAR;AAEDY,IAAAA,aAAa,CAACE,GAAd,GAAoBC,IAApB,CAAyB,MAAMC,IAAN,IAAc;AAElC,YAAMZ,cAAc,GAAGN,+BAA+B,CAACkB,IAAD,CAAtD;AAEAL,MAAAA,QAAQ,CAACR,uBAAuB,CAACC,cAAD,CAAxB,CAAR;AAEH,KANF,EAMIW,IANJ,CAMUE,KAAK,IAAI;AAEhBV,MAAAA,uBAAuB,CAACU,KAAK,CAACT,YAAP,CAAvB;AACD,KATF;AAUF,GAjBD;AAkBD,CApBM","sourcesContent":["import { firestore, convertCollectionsSnapshotToMap} from '../../firebase/firebase.utils'\n\n\nimport ShopActionTypes from './shop.types'\n\n\nexport const fetchCollectionsStart = () =>( {\n\n    type: ShopActionTypes.FETCH_COLLECTIONS_START\n})\n\nexport const fetchCollectionsSuccess = collectionsMap => ({\n\n    type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n    payload: collectionsMap\n\n})\n\nexport const fetchCollectionsFailure = errorMessage => ({\n\n    type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\n    payload: errorMessage\n})\n\n\nexport const fetchCollectionsStartAsync = () => {\n\n  return dispatch => {\n\n\n      const collectionRef = firestore.collection('collection')\n\n      dispatch(fetchCollectionsStart())\n\n     collectionRef.get().then(async shot => {\n\n          const collectionsMap = convertCollectionsSnapshotToMap(shot)\n\n          dispatch(fetchCollectionsSuccess(collectionsMap))\n          \n      }).then (error => {\n\n        fetchCollectionsFailure(error.errorMessage)\n      })\n  }\n}"]},"metadata":{},"sourceType":"module"}